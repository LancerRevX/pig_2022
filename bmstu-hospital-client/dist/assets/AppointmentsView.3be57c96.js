import{D as o,L as c}from"./LoadingIndicator.82b4d7a6.js";import{d as p,u as h,A as r,C as m,D as _,x as g,_ as y,r as l,o as u,c as s,f as D,a as t,F as f,l as k,t as n,E as C,g as S,h as A,G as w}from"./index.af4eaa39.js";const F=p({data:()=>({status:o.Loading,appointments:[],appointmentStatuses:[],userStore:h()}),methods:{async deleteAppointment(e){await r(e),this.getData()},async getData(){this.appointmentStatuses=[],this.appointments=[];try{this.appointmentStatuses=await m(),this.appointments=await _(),this.status=o.Ready}catch(e){e instanceof g?this.status=o.Forbidden:(this.status=o.Error,console.log(e))}},async cancelAppointment(e){await r(e),this.getData()}},watch:{"userStore.user"(){this.getData()}},components:{LoadingIndicator:c},created(){this.getData()}}),b={class:"wards-block"},L=t("h2",null,"\u0422\u0430\u0431\u043B\u0438\u0446\u0430 \u0437\u0430\u043F\u0438\u0441\u0435\u0439 \u043A \u0432\u0440\u0430\u0447\u0430\u043C",-1),B={key:1,class:"appointments-table"},E=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"\u041F\u0430\u0446\u0438\u0435\u043D\u0442"),t("th",null,"\u0412\u0440\u0430\u0447"),t("th",null,"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F"),t("th",null,"\u0421\u0442\u0430\u0442\u0443\u0441"),t("th",null,"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435")])],-1),V=["onClick"];function $(e,v,I,N,x,G){const i=l("LoadingIndicator"),d=l("router-link");return u(),s("div",b,[L,e.appointments.length?(u(),s("table",B,[E,t("tbody",null,[(u(!0),s(f,null,k(e.appointments,a=>(u(),s("tr",{key:a.id},[t("td",null,n(a.id),1),t("td",null,n(a.patient.name),1),t("td",null,[C(d,{to:"/doctors/"+a.doctor.id},{default:S(()=>[w(n(a.doctor.name),1)]),_:2},1032,["to"])]),t("td",null,n(a.datetime.toLocaleString()),1),t("td",null,n(a.status.name),1),t("td",null,[a.status.value==0?(u(),s("button",{key:0,onClick:R=>e.cancelAppointment(a)},"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",8,V)):A("",!0)])]))),128))])])):(u(),D(i,{key:0,"data-array":e.appointments,"data-status":e.status},null,8,["data-array","data-status"]))])}const q=y(F,[["render",$]]);export{q as default};
